---
import { cn } from '@lib/utils';
import Button from '../ui/Button.astro';
import { Image } from 'astro:assets';

interface Props {
  title: string;
  subtitle?: string;
  image?: { src: string; alt: string };
  cta?: {
    primary?: { text: string; url: string };
    secondary?: { text: string; url: string };
  };
  variant?: 'default' | 'centered' | 'split';
  background?: 'gradient' | 'solid' | 'none';
}

const {
  title,
  subtitle,
  image,
  cta,
  variant = 'default',
  background = 'gradient'
} = Astro.props;

const backgrounds = {
  gradient: 'bg-gradient-to-br from-primary-600 to-secondary-500 text-white',
  solid: 'bg-primary-600 text-white',
  none: 'bg-transparent',
};
---

<section class={cn('py-20 lg:py-32', backgrounds[background])}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    {variant === 'split' ? (
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <h1 class="text-4xl lg:text-6xl font-bold font-heading mb-6">
            {title}
          </h1>
          {subtitle && (
            <p class="text-xl lg:text-2xl opacity-90 mb-8">{subtitle}</p>
          )}
          {cta && (
            <div class="flex flex-wrap gap-4">
              {cta.primary && (
                <Button href={cta.primary.url} variant="secondary" size="lg">
                  {cta.primary.text}
                </Button>
              )}
              {cta.secondary && (
                <Button href={cta.secondary.url} variant="outline" size="lg">
                  {cta.secondary.text}
                </Button>
              )}
            </div>
          )}
        </div>
        {image && (
          <div>
            <Image
              src={image.src}
              alt={image.alt}
              width={600}
              height={400}
              class="rounded-xl shadow-2xl"
            />
          </div>
        )}
      </div>
    ) : (
      <div class={cn('max-w-4xl mx-auto', variant === 'centered' && 'text-center')}>
        <h1 class="text-4xl lg:text-6xl font-bold font-heading mb-6">
          {title}
        </h1>
        {subtitle && (
          <p class="text-xl lg:text-2xl opacity-90 mb-8">{subtitle}</p>
        )}
        {cta && (
          <div class={cn('flex flex-wrap gap-4', variant === 'centered' && 'justify-center')}>
            {cta.primary && (
              <Button href={cta.primary.url} variant="secondary" size="lg">
                {cta.primary.text}
              </Button>
            )}
            {cta.secondary && (
              <Button href={cta.secondary.url} variant="outline" size="lg">
                {cta.secondary.text}
              </Button>
            )}
          </div>
        )}
      </div>
    )}
  </div>
</section>
