---
interface Props {
  currentPage: number;
  totalPages: number;
  baseUrl: string;
}

const { currentPage, totalPages, baseUrl } = Astro.props;

const pages = Array.from({ length: totalPages }, (_, i) => i + 1);
const prevUrl = currentPage > 1 ? `${baseUrl}/${currentPage - 1}` : null;
const nextUrl = currentPage < totalPages ? `${baseUrl}/${currentPage + 1}` : null;
---

<nav class="flex items-center justify-center gap-2 my-8" aria-label="Pagination">
  {prevUrl ? (
    <a href={prevUrl} class="px-3 py-2 text-sm rounded-lg border border-neutral-200 hover:border-primary-300 hover:text-primary-600 transition-colors">
      ← Prev
    </a>
  ) : (
    <span class="px-3 py-2 text-sm rounded-lg border border-neutral-100 text-neutral-300 cursor-not-allowed">
      ← Prev
    </span>
  )}

  {pages.map(page => (
    <a
      href={page === currentPage ? undefined : `${baseUrl}/${page}`}
      class={page === currentPage
        ? 'px-3 py-2 text-sm rounded-lg bg-primary-600 text-white font-medium'
        : 'px-3 py-2 text-sm rounded-lg border border-neutral-200 hover:border-primary-300 hover:text-primary-600 transition-colors'}
      aria-current={page === currentPage ? 'page' : undefined}
    >
      {page}
    </a>
  ))}

  {nextUrl ? (
    <a href={nextUrl} class="px-3 py-2 text-sm rounded-lg border border-neutral-200 hover:border-primary-300 hover:text-primary-600 transition-colors">
      Next →
    </a>
  ) : (
    <span class="px-3 py-2 text-sm rounded-lg border border-neutral-100 text-neutral-300 cursor-not-allowed">
      Next →
    </span>
  )}
</nav>
