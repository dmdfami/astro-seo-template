---
import { formatDate } from '@lib/utils';
import StarRating from './StarRating.astro';
import Badge from '../ui/Badge.astro';

interface Props {
  rating: number;
  title: string;
  review: string;
  author: string;
  date: Date | string;
  verified?: boolean;
  class?: string;
}

const {
  rating,
  title,
  review,
  author,
  date,
  verified = false,
  class: className
} = Astro.props;

const formattedDate = typeof date === 'string' ? date : formatDate(date);
---

<div class={`bg-white border border-neutral-200 rounded-xl p-6 shadow-sm hover:shadow-lg hover:-translate-y-1 hover:border-primary-300 transition-all duration-300 ${className || ''}`}>
  <div class="flex items-start justify-between mb-4">
    <StarRating rating={rating} />
    {verified && (
      <Badge variant="success">Verified</Badge>
    )}
  </div>

  <h3 class="text-lg font-bold text-neutral-900 mb-2">
    {title}
  </h3>

  <p class="text-neutral-600 mb-4">
    {review}
  </p>

  <div class="flex items-center justify-between text-sm">
    <span class="font-medium text-neutral-900">
      {author}
    </span>
    <span class="text-neutral-600">
      {formattedDate}
    </span>
  </div>
</div>
