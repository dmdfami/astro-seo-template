# Phase 4: Upgrade All 47 Existing Components

**Date:** 2026-02-16
**Priority:** P1 (Core Features)
**Status:** ✅ Complete
**Effort:** 7h

## Context Links

- Parent plan: [plan.md](plan.md)
- Previous phase: [phase-03-new-premium-components.md](phase-03-new-premium-components.md)
- Research: [researcher-01-premium-component-patterns.md](research/researcher-01-premium-component-patterns.md)

## Overview

Upgrade all 47 existing MDX components to premium design standards. Remove any remaining dark: artifacts, ensure consistent token usage, apply hover states, improve spacing/radius/shadows. Tier-based approach: 10 high-impact (full redesign), 10 medium-impact (significant polish), 27 low-impact (consistency pass).

**Why fourth:** Components now have premium patterns (Phase 3) and tokens (Phase 2) available. This phase unifies entire component library.

## Key Insights

- **47 components total** in src/components/mdx/*.astro
- **Tier 1 (10 high-impact):** Hero, Card, CardGrid, Stats, Testimonial, CTA, CTABlock, FAQ, Footer, Header — user-facing, appear on every page type
- **Tier 2 (10 medium-impact):** Steps/Step, Timeline, Gallery, FeatureGrid, ProcessFlow, ContactForm, AuthorBox, Newsletter, Accordion, Tabs — frequent use, high visibility
- **Tier 3 (27 remaining):** Spec tables, comparison tables, badges, alerts, breadcrumbs, etc. — less frequent, lower visual impact
- **Common issues:** Inconsistent border-radius (mixing rounded-lg/xl/2xl), shadow inconsistency (using arbitrary values), missing hover states, tight spacing
- **FeatureGrid specific bug:** Green square icons (fixed in Phase 1, but needs gradient icon containers like research-01 shows)

## Requirements

### Functional
1. All 47 components free of dark: classes (verified after Phase 1)
2. All components use design token CSS variables (no hardcoded colors)
3. Consistent spacing: Use token-based py/px (py-4, py-6, py-8) not arbitrary (py-[18px])
4. Consistent radius: rounded-lg for cards, rounded-xl for major containers, rounded-2xl for hero sections
5. Consistent shadows: Use token shadows (shadow-sm, shadow-md, shadow-lg) not arbitrary
6. Interactive elements have hover states: hover:shadow-lg, hover:-translate-y-1, transition-all duration-300
7. All icon containers use gradient backgrounds (from-primary-500 to-primary-600)

### Non-Functional
1. Build time unchanged (~1.1s)
2. No visual regression on existing content
3. Lighthouse scores maintained or improved (Performance 90+, Accessibility 95+)
4. Breaking changes acceptable (content will be regenerated by ai-content-rewriter)

## Architecture

### Tier 1: High-Impact Components (10) — Full Redesign

#### 1. Hero.astro
**Changes:**
- Title: Use gradient text highlight on key phrase via Highlight component
- Background: Add subtle gradient overlay (bg-gradient-to-br from-primary-50 to-secondary-50)
- CTA buttons: Increase prominence, add hover glow effect
- Image: Use ImageWithFallback component
- Spacing: Increase py from py-16 to py-24 md:py-32

#### 2. Card.astro
**Changes:**
- Border: Consistent rounded-xl (was mixing rounded-lg)
- Shadow: Use shadow-sm default, shadow-lg on hover
- Hover: Add hover:-translate-y-1 transition-transform duration-300
- Image: Use ImageWithFallback component
- Icon container (if present): bg-gradient-to-br from-primary-500 to-primary-600

#### 3. CardGrid.astro
**Changes:**
- Gap: Consistent gap-6 (was mixing gap-4/gap-8)
- Grid: Ensure grid-cols-1 md:grid-cols-2 lg:grid-cols-3
- Each card: Apply Card.astro updates above

#### 4. Stats.astro
**Changes:**
- Number typography: Use gradient text (var(--gradient-text-primary))
- Card style: bg-white rounded-xl border border-neutral-200 shadow-sm
- Hover: Add hover:shadow-md transition
- Layout: Use BentoGrid for featured stats (optional enhancement)

#### 5. Testimonial.astro
**Changes:**
- Background: bg-gradient-to-br from-primary-50 to-secondary-50 (subtle gradient)
- Border: rounded-2xl (was rounded-lg)
- Quote icon: Larger, lighter color (text-primary-200)
- Avatar: border-2 border-white shadow-lg
- Remove any remaining dark: classes from text

#### 6. CTA.astro
**Changes:**
- Button: Larger (px-8 py-4), gradient background (bg-gradient-to-r from-primary-600 to-primary-500)
- Hover: Add hover glow effect via box-shadow
- Text: Use Highlight for key phrase
- Layout: Center-aligned with generous padding (py-16)

#### 7. CTABlock.astro
**Changes:**
- Background: bg-gradient-to-br from-primary-600 to-secondary-600 (bold gradient)
- Text: text-white (ensure contrast)
- Button: bg-white text-primary-600 (inverse contrast)
- Border: rounded-2xl
- Padding: px-8 py-12 md:px-12 md:py-16

#### 8. FAQ.astro
**Changes:**
- Accordion item: rounded-lg border border-neutral-200
- Hover: hover:border-primary-300 transition
- Icon: Rotate transition (transform rotate-180)
- Spacing: gap-4 between items

#### 9. Footer.astro
**Changes:**
- Background: bg-neutral-900 (keep dark footer for contrast)
- Social links: Add Facebook/YouTube (fixed in Phase 1)
- Hover: Social icons hover:text-primary-400 transition
- Layout: Consistent grid spacing

#### 10. Header.astro
**Changes:**
- Logo wrap: Fix mobile truncation (fixed in Phase 1)
- Glass effect: Update to light-mode glass (from Phase 2 tokens)
- Active state: text-primary-600 (simplified from ternary in Phase 1)
- Hover: Smooth color transitions on nav links

### Tier 2: Medium-Impact Components (10) — Significant Polish

#### 11-12. Steps.astro + Step.astro
**Changes:**
- Step number circle: bg-gradient-to-br from-primary-500 to-primary-600
- Connector line: border-l-2 border-primary-200
- Card: rounded-xl shadow-sm hover:shadow-md
- Typography: Consistent heading sizes

#### 13. Timeline.astro
**Changes:**
- Timeline dot: bg-gradient-to-br from-primary-500 to-primary-600
- Line: border-primary-200
- Card: rounded-xl with shadow-sm
- Date badge: FloatingBadge component

#### 14. Gallery.astro
**Changes:**
- Grid: gap-4, masonry-style optional
- Image: Use ImageWithFallback component
- Lightbox trigger: Hover overlay with icon
- Border: rounded-lg

#### 15. FeatureGrid.astro
**Changes:**
- Icon container: bg-gradient-to-br from-primary-500 to-primary-600 (fix green squares from Phase 1)
- Card: rounded-xl border border-neutral-200
- Hover: hover:shadow-lg transition
- Typography: Consistent h3 sizing

#### 16. ProcessFlow.astro
**Changes:**
- Step cards: rounded-xl with gradient icons
- Arrow connectors: Styled with primary color
- Responsive: Stack vertically on mobile

#### 17. ContactForm.astro
**Changes:**
- Inputs: rounded-lg border-neutral-300 focus:border-primary-500
- Button: bg-gradient-to-r from-primary-600 to-primary-500
- Labels: font-medium text-neutral-700
- Error states: text-red-600 border-red-300

#### 18. AuthorBox.astro
**Changes:**
- Avatar: rounded-full border-2 border-primary-200
- Background: bg-neutral-50 rounded-xl
- Social links: FloatingBadge style
- Layout: flex items-center gap-4

#### 19. Newsletter.astro
**Changes:**
- Background: bg-gradient-to-br from-primary-50 to-secondary-50
- Input: inline-flex with button
- Button: bg-primary-600 hover:bg-primary-700
- Border: rounded-xl

#### 20. Accordion.astro
**Changes:**
- Item: rounded-lg border hover:border-primary-300
- Icon: Smooth rotate transition
- Content: Slide animation (max-height transition)

#### 21. Tabs.astro
**Changes:**
- Tab buttons: Active tab bg-primary-600 text-white, inactive hover:bg-neutral-100
- Border: Bottom border on active tab (border-b-2 border-primary-600)
- Content: rounded-b-xl border-neutral-200

### Tier 3: Low-Impact Existing Components (27) — Consistency Pass

**Batch operations for 27 existing components:**

1. **Remove dark: classes** (verify from Phase 1 cleanup)
2. **Standardize border-radius:** badges/pills: rounded-full or rounded-lg, cards: rounded-xl, hero: rounded-2xl
3. **Standardize shadows:** Replace arbitrary values with tokens (shadow-sm, shadow-md, shadow-lg)
4. **Add hover states:** Interactive cards: hover:shadow-lg transition-shadow duration-300
5. **Use token colors:** Replace hex colors with Tailwind classes (bg-primary-600)
6. **Consistent spacing:** Section padding py-16 or py-20, content padding p-6 or p-8

**Existing Tier 3 components:** Badge, BreadcrumbNav, Callout, CertBadges, ClientLogos, ComparisonTable, Counter, Drawer, FloatingCTA, Image, LogoCloud, MdxImage, Modal, PriceRange, PricingTable, ProgressBar, ReviewCard, ScrollReveal, SocialLinks, SpecTable, StarRating, TeamGrid, Tooltip, TrustBar, VideoEmbed, WhatsAppButton + remaining

### Tier 4: NEW Utility Components (11) — Create from Scratch
<!-- Updated: Validation Session 1 - User chose to create all 11 phantom components -->

**Create 11 new utility components for complete content library:**

| Component | Purpose | Key Props |
|-----------|---------|-----------|
| Alert | Info/warning/error/success banners | variant, title, dismissible |
| Banner | Full-width announcement strips | bg, icon, cta |
| Blockquote | Styled pull quotes with attribution | author, source, variant |
| Divider | Visual section separators | variant (line/dots/gradient), spacing |
| List | Styled ordered/unordered lists | variant (check/arrow/number), items |
| Logo | Brand logo with responsive sizing | src, alt, width, height |
| Metric | Single stat/KPI display | value, label, trend, icon |
| Pagination | Page navigation controls | currentPage, totalPages, baseUrl |
| PricingCard | Individual pricing tier card | plan, price, features, cta, highlighted |
| Quote | Inline quotation with citation | author, role, company |
| Table | Styled data table with responsive | headers, rows, striped, compact |

**Implementation pattern for each:**
- TypeScript interface for props
- Design token-based colors (zero hardcoded)
- Responsive mobile-first
- Hover/focus states where interactive
- Register in astro.config.mjs AutoImport

## Related Code Files

```
src/components/mdx/
├── Tier 1 (10 components):
│   ├── Hero.astro
│   ├── Card.astro
│   ├── CardGrid.astro
│   ├── Stats.astro
│   ├── Testimonial.astro
│   ├── CTA.astro
│   ├── CTABlock.astro
│   ├── FAQ.astro
│   ├── Footer.astro
│   └── Header.astro
├── Tier 2 (10 components):
│   ├── Steps.astro
│   ├── Step.astro
│   ├── Timeline.astro
│   ├── Gallery.astro
│   ├── FeatureGrid.astro
│   ├── ProcessFlow.astro
│   ├── ContactForm.astro
│   ├── AuthorBox.astro
│   ├── Newsletter.astro
│   ├── Accordion.astro
│   └── Tabs.astro
└── Tier 3 (27 components):
    └── [All remaining .astro files]
```

## Implementation Steps

### Step 1: Create Upgrade Checklist Script (15 min)

Create helper script to verify consistency:

**Create `scripts/check-component-consistency.sh`:**
```bash
#!/bin/bash
# Check for common inconsistencies in MDX components

echo "=== Checking for dark: classes (should be 0) ==="
grep -r "dark:" src/components/mdx/ --include="*.astro" | wc -l

echo "=== Checking for arbitrary values (should minimize) ==="
grep -rE "p-\[|py-\[|px-\[|rounded-\[|shadow-\[" src/components/mdx/ --include="*.astro" | wc -l

echo "=== Checking for hardcoded hex colors (should use tokens) ==="
grep -rE "#[0-9a-fA-F]{3,6}" src/components/mdx/ --include="*.astro" | wc -l

echo "=== Checking for missing hover states on interactive elements ==="
grep -l "cursor-pointer" src/components/mdx/*.astro | while read file; do
  if ! grep -q "hover:" "$file"; then
    echo "Missing hover: $file"
  fi
done

echo "=== Done ==="
```

```bash
chmod +x scripts/check-component-consistency.sh
./scripts/check-component-consistency.sh
```

### Step 2: Upgrade Tier 1 Components (90 min)

**Work order:** Hero → Card → CardGrid → Stats → Testimonial → CTA → CTABlock → FAQ → Footer → Header

**Example: Hero.astro upgrade**

**Before:**
```astro
<section class="py-16 bg-neutral-50">
  <div class="container mx-auto px-4">
    <h1 class="text-5xl font-bold text-neutral-900">{title}</h1>
    <p class="text-xl text-neutral-600">{description}</p>
    <a href={ctaLink} class="bg-primary-600 text-white px-6 py-3 rounded-lg">
      {ctaText}
    </a>
  </div>
</section>
```

**After:**
```astro
---
import Highlight from './Highlight.astro';
import ImageWithFallback from './ImageWithFallback.astro';
const { title, highlightPhrase, description, ctaLink, ctaText, image } = Astro.props;
---
<section class="py-24 md:py-32 bg-gradient-to-br from-primary-50 to-secondary-50">
  <div class="container mx-auto px-4 max-w-7xl">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-neutral-900 mb-6">
          {title.split(highlightPhrase)[0]}
          <Highlight variant="teal-blue">{highlightPhrase}</Highlight>
          {title.split(highlightPhrase)[1]}
        </h1>
        <p class="text-xl text-neutral-600 mb-8">{description}</p>
        <a
          href={ctaLink}
          class="inline-flex items-center gap-2 bg-gradient-to-r from-primary-600 to-primary-500
                 text-white px-8 py-4 rounded-xl font-semibold
                 hover:shadow-lg hover:-translate-y-1 transition-all duration-300"
        >
          {ctaText}
        </a>
      </div>
      {image && (
        <div>
          <ImageWithFallback
            src={image}
            alt={title}
            width={600}
            height={400}
            class="rounded-2xl"
          />
        </div>
      )}
    </div>
  </div>
</section>
```

**Repeat similar upgrades for remaining Tier 1 components.**

Key patterns:
- **Card.astro:** rounded-xl, shadow-sm → hover:shadow-lg, hover:-translate-y-1
- **Stats.astro:** Gradient text on numbers, BentoGrid layout optional
- **Testimonial.astro:** Gradient bg, rounded-2xl, large quote icon
- **CTA/CTABlock:** Gradient buttons, Highlight on key phrases
- **FAQ:** Hover border color transition, smooth icon rotation
- **Footer/Header:** Fix mobile issues (Phase 1), apply glass tokens

### Step 3: Upgrade Tier 2 Components (60 min)

**Work order:** Steps/Step → Timeline → Gallery → FeatureGrid → ProcessFlow → ContactForm → AuthorBox → Newsletter → Accordion → Tabs

**Example: FeatureGrid.astro upgrade**

**Before (with green square bug):**
```astro
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  {features.map(feature => (
    <div class="p-6 bg-white rounded-lg border">
      <div class="w-12 h-12 bg-primary-500 rounded-lg mb-4"></div>
      <h3 class="text-xl font-bold">{feature.title}</h3>
      <p>{feature.description}</p>
    </div>
  ))}
</div>
```

**After:**
```astro
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 my-12">
  {features.map(feature => (
    <div class="p-6 bg-white rounded-xl border border-neutral-200 shadow-sm
                hover:shadow-lg transition-shadow duration-300">
      <!-- Gradient icon container -->
      <div class="w-12 h-12 rounded-lg mb-4
                  bg-gradient-to-br from-primary-500 to-primary-600
                  flex items-center justify-center text-white text-2xl">
        {feature.icon || "✓"}
      </div>
      <h3 class="text-xl font-bold text-neutral-900 mb-2">{feature.title}</h3>
      <p class="text-neutral-600">{feature.description}</p>
    </div>
  ))}
</div>
```

**Repeat for remaining Tier 2 components.**

Key patterns:
- **Steps/Timeline:** Gradient number/dot circles, primary-200 connector lines
- **Gallery:** ImageWithFallback, consistent rounded-lg
- **ContactForm:** Focus states, gradient submit button
- **AuthorBox:** FloatingBadge for social links
- **Newsletter:** Gradient background, inline input+button
- **Accordion/Tabs:** Smooth transitions, active state styling

### Step 4: Batch Upgrade Tier 3 Components (60 min)

**Use regex + manual review approach:**

**4.1 Standardize border-radius**
```bash
# Find all rounded- variants
grep -rE "rounded-[a-z0-9]+" src/components/mdx/ --include="*.astro" -h | \
  grep -oE "rounded-[a-z0-9]+" | sort | uniq -c

# Manual review: decide per component context
# - Badges/Pills: rounded-full
# - Small cards: rounded-lg
# - Standard cards: rounded-xl
# - Hero/major sections: rounded-2xl
```

**4.2 Replace arbitrary shadows**
```bash
# Find arbitrary shadow values
grep -rE "shadow-\[" src/components/mdx/ --include="*.astro"

# Replace with token shadows:
# - shadow-[0_1px_2px...] → shadow-sm
# - shadow-[0_4px_6px...] → shadow-md
# - shadow-[0_10px_15px...] → shadow-lg
```

**4.3 Add missing hover states**
```bash
# Find interactive components without hover
for file in src/components/mdx/*.astro; do
  if grep -q "cursor-pointer\|role=\"button\"" "$file"; then
    if ! grep -q "hover:" "$file"; then
      echo "Add hover to: $file"
    fi
  fi
done
```

Manually add:
```astro
class="... hover:shadow-lg hover:-translate-y-1 transition-all duration-300"
```

**4.4 Replace hardcoded colors**
```bash
# Find hex colors
grep -rE "#[0-9a-fA-F]{6}" src/components/mdx/ --include="*.astro"

# Replace with tokens:
# - #0f766e → bg-primary-600 or var(--color-primary-600)
# - #f5f5f4 → bg-neutral-100
```

**4.5 Verify each Tier 3 component**
Quick visual check in dev server:
```bash
npm run dev
# Navigate through pages using Tier 3 components
# Verify no visual regressions
```

### Step 5: Visual Regression Testing (30 min)

**5.1 Test all page types**
```bash
npm run dev
```

Navigate through:
- Homepage (Hero, Stats, FeatureGrid, CTA, Testimonials)
- Product pages (Card, CardGrid, Gallery, SpecTable)
- Blog posts (Blockquote, CodeBlock, Image, AuthorBox)
- About page (Timeline, ProcessFlow, Stats)
- Contact page (ContactForm, Map)

**5.2 Check responsive breakpoints**
Use DevTools responsive mode:
- 375px: Mobile (single column)
- 768px: Tablet (2 columns)
- 1024px: Desktop (3 columns)
- 1440px: Large desktop (4 columns for BentoGrid)

**5.3 Check hover states**
Hover over:
- Cards (should lift + shadow)
- Buttons (should glow/translate)
- Links (should change color)
- Accordions (should highlight border)

**5.4 Check accessibility**
```bash
# Lighthouse test on 5 representative pages
# Verify all pages score:
# - Performance: 90+
# - Accessibility: 95+
# - Best Practices: 95+
```

### Step 6: Run Consistency Check (10 min)

```bash
./scripts/check-component-consistency.sh
```

Expected output:
```
=== Checking for dark: classes (should be 0) ===
0

=== Checking for arbitrary values (should minimize) ===
<10

=== Checking for hardcoded hex colors (should use tokens) ===
0

=== Missing hover states on interactive elements ===
(empty list)

=== Done ===
```

Fix any remaining issues found.

### Step 7: Build Verification (15 min)

**7.1 Production build**
```bash
npm run build
```

Verify:
- 0 errors
- 0 warnings
- 19 pages built
- Build time ~1.1s (unchanged)

**7.2 Preview build**
```bash
npm run preview
```

Test critical user paths:
- Homepage → Product page → Contact
- Homepage → Blog list → Blog post
- Product list → Product detail

**7.3 Check bundle size**
```bash
ls -lh dist/_astro/*.css
# Should be similar to Phase 3 (~35-45kb)

ls -lh dist/*.html | head -5
# Check HTML file sizes reasonable
```

### Step 8: Commit Component Upgrades (10 min)

```bash
git add src/components/mdx/*.astro scripts/check-component-consistency.sh
git commit -m "$(cat <<'EOF'
feat: upgrade all 47 MDX components to premium design

Tier 1 (10 high-impact - full redesign):
- Hero: Gradient bg, Highlight text, ImageWithFallback, larger padding
- Card/CardGrid: Consistent rounded-xl, hover lift effect, shadow transitions
- Stats: Gradient text on numbers, optional BentoGrid layout
- Testimonial: Gradient bg, rounded-2xl, large quote icon
- CTA/CTABlock: Gradient buttons, Highlight key phrases, hover glow
- FAQ: Hover border transitions, smooth icon rotation
- Footer/Header: Mobile fixes, light-mode glass tokens

Tier 2 (10 medium-impact - significant polish):
- Steps/Timeline: Gradient number circles, primary-200 connectors
- Gallery: ImageWithFallback, consistent rounded-lg
- FeatureGrid: Fix green square icons with gradient containers
- ContactForm: Focus states, gradient submit button
- AuthorBox: FloatingBadge for social links
- Newsletter: Gradient bg, inline input+button
- Accordion/Tabs: Smooth transitions, active state styling

Tier 3 (27 remaining - consistency pass):
- Standardize border-radius (lg/xl/2xl/full)
- Replace arbitrary shadows with tokens (sm/md/lg)
- Add hover states to all interactive elements
- Replace hardcoded colors with design tokens
- Consistent spacing (py-16/py-20, p-6/p-8)

All components now use design token CSS variables.
Build: 0 errors, 19 pages. Lighthouse: Performance 90+, A11y 95+.
EOF
)"
```

## Todo List

- [ ] Create check-component-consistency.sh script
- [ ] Run consistency check (baseline)
- [ ] Upgrade Hero.astro (Tier 1)
- [ ] Upgrade Card.astro (Tier 1)
- [ ] Upgrade CardGrid.astro (Tier 1)
- [ ] Upgrade Stats.astro (Tier 1)
- [ ] Upgrade Testimonial.astro (Tier 1)
- [ ] Upgrade CTA.astro (Tier 1)
- [ ] Upgrade CTABlock.astro (Tier 1)
- [ ] Upgrade FAQ.astro (Tier 1)
- [ ] Upgrade Footer.astro (Tier 1)
- [ ] Upgrade Header.astro (Tier 1)
- [ ] Upgrade Steps/Step.astro (Tier 2)
- [ ] Upgrade Timeline.astro (Tier 2)
- [ ] Upgrade Gallery.astro (Tier 2)
- [ ] Upgrade FeatureGrid.astro (Tier 2)
- [ ] Upgrade ProcessFlow.astro (Tier 2)
- [ ] Upgrade ContactForm.astro (Tier 2)
- [ ] Upgrade AuthorBox.astro (Tier 2)
- [ ] Upgrade Newsletter.astro (Tier 2)
- [ ] Upgrade Accordion.astro (Tier 2)
- [ ] Upgrade Tabs.astro (Tier 2)
- [ ] Batch upgrade Tier 3 (27 components): standardize radius, shadows, hover, colors, spacing
- [ ] Visual regression test (all page types)
- [ ] Responsive test (375px, 768px, 1024px, 1440px)
- [ ] Accessibility test (Lighthouse on 5 pages)
- [ ] Run consistency check (verify 0 issues)
- [ ] Run npm run build (verify 0 errors)
- [ ] Commit changes

## Success Criteria

1. **All 47 components upgraded:**
   - Tier 1: Full redesign with premium patterns
   - Tier 2: Significant polish with consistent styling
   - Tier 3: Consistency pass (radius, shadows, hover, colors, spacing)

2. **Consistency achieved:**
   - Zero dark: classes remain
   - Zero hardcoded hex colors
   - Minimal arbitrary values (<10)
   - All interactive elements have hover states
   - All components use design token CSS variables

3. **Build quality:**
   - npm run build: 0 errors, 19 pages
   - Lighthouse: Performance 90+, Accessibility 95+
   - Visual regression: No broken layouts
   - Bundle size: CSS <50kb

## Risk Assessment

**Medium Risk:**
- Breaking changes affect existing content → Acceptable, content will be regenerated by ai-content-rewriter
- Hover effects degrade on touch devices → Mitigated by using :hover (ignored on touch), tested on mobile

**Low Risk:**
- Build time increase → CSS-only changes, minimal impact expected
- Component prop changes → Review each component's prop interface before changes

**Mitigation:**
- Test on real mobile device (not just DevTools)
- Keep git commits per tier for easy rollback
- Run build after each tier to catch issues early

## Next Steps

After Phase 4 complete:
- **Phase 5:** Typography & layout system (prose styles, heading hierarchy, section rhythm)
- **Phase 6:** Component catalog (document all 52 components for ai-content-rewriter)

## Unresolved Questions

1. Should Stats component always use BentoGrid, or offer both grid + bento variants?
   → Offer both: default CardGrid, opt-in BentoGrid via prop `layout="bento"`
2. Should Gallery support masonry layout, or stick with CSS Grid?
   → CSS Grid for v1 (simpler, more predictable). Masonry can be Phase 5 enhancement
3. Should ContactForm validation be client-side (JS) or server-side (Astro action)?
   → Keep existing implementation (likely client-side), don't change logic in this phase
